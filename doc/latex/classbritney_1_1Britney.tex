\section{britney.Britney Class Reference}
\label{classbritney_1_1Britney}\index{britney::Britney@{britney::Britney}}
\subsection*{Public Member Functions}
\begin{CompactItemize}
\item 
def \bf{\_\-\_\-init\_\-\_\-}
\item 
def \bf{read\_\-sources}
\item 
def \bf{read\_\-binaries}
\item 
def \bf{register\_\-reverses}
\item 
def \bf{read\_\-bugs}
\item 
def \bf{write\_\-bugs}
\item 
def \bf{normalize\_\-bugs}
\item 
def \bf{read\_\-dates}
\item 
def \bf{write\_\-dates}
\item 
def \bf{read\_\-urgencies}
\item 
def \bf{read\_\-approvals}
\item 
def \bf{read\_\-hints}
\item 
def \bf{write\_\-heidi}
\item 
def \bf{write\_\-controlfiles}
\item 
def \bf{write\_\-nuninst}
\item 
def \bf{read\_\-nuninst}
\item 
def \bf{same\_\-source}
\item 
def \bf{get\_\-dependency\_\-solvers}
\item 
def \bf{excuse\_\-unsat\_\-deps}
\item 
def \bf{should\_\-remove\_\-source}
\item 
def \bf{should\_\-upgrade\_\-srcarch}
\item 
def \bf{should\_\-upgrade\_\-src}
\item 
def \bf{reversed\_\-exc\_\-deps}
\item 
def \bf{invalidate\_\-excuses}
\item 
def \bf{write\_\-excuses}
\item 
def \bf{newlyuninst}
\item 
def \bf{get\_\-nuninst}
\item 
def \bf{eval\_\-nuninst}
\item 
def \bf{eval\_\-uninst}
\item 
def \bf{is\_\-nuninst\_\-asgood\_\-generous}\label{classbritney_1_1Britney_2f7401c8e41b8095bd99bd656bb41546}

\item 
def \bf{check\_\-installable}
\item 
def \bf{check\_\-conflicts}
\item 
def \bf{doop\_\-source}
\item 
def \bf{get\_\-full\_\-tree}
\item 
def \bf{iter\_\-packages}
\item 
def \bf{do\_\-all}
\item 
def \bf{upgrade\_\-testing}
\item 
def \bf{do\_\-hint}
\item 
def \bf{sort\_\-actions}
\item 
def \bf{auto\_\-hinter}
\item 
def \bf{old\_\-libraries}
\item 
def \bf{old\_\-libraries\_\-format}
\item 
def \bf{output\_\-write}
\item 
def \bf{main}
\end{CompactItemize}
\subsection*{Static Public Attributes}
\begin{CompactItemize}
\item 
tuple \bf{HINTS\_\-STANDARD} = (\char`\"{}easy\char`\"{}, \char`\"{}hint\char`\"{}, \char`\"{}remove\char`\"{}, \char`\"{}block\char`\"{}, \char`\"{}unblock\char`\"{}, \char`\"{}urgent\char`\"{}, \char`\"{}approve\char`\"{})\label{classbritney_1_1Britney_ebbe3f40cca59e2de275b0558556ee63}

\item 
tuple \bf{HINTS\_\-ALL} = (\char`\"{}force\char`\"{}, \char`\"{}force-hint\char`\"{}, \char`\"{}block-all\char`\"{})\label{classbritney_1_1Britney_a088d6fd96963f87f88c9c40cda10bfa}

\end{CompactItemize}


\subsection{Detailed Description}


\footnotesize\begin{verbatim}Britney, the debian testing updater script

This is the script that updates the testing_ distribution. It is executed
each day after the installation of the updated packages. It generates the 
`Packages' files for the testing distribution, but it does so in an
intelligent manner; it try to avoid any inconsistency and to use only
non-buggy packages.

For more documentation on this script, please read the Developers Reference.
\end{verbatim}
\normalsize
 



Definition at line 212 of file britney.py.

\subsection{Member Function Documentation}
\index{britney::Britney@{britney::Britney}!__init__@{\_\-\_\-init\_\-\_\-}}
\index{__init__@{\_\-\_\-init\_\-\_\-}!britney::Britney@{britney::Britney}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def britney.Britney.\_\-\_\-init\_\-\_\- ( {\em self})}\label{classbritney_1_1Britney_5846d81eace24f479292c47e30fd1851}




\footnotesize\begin{verbatim}Class constructor

This method initializes and populates the data lists, which contain all
the information needed by the other methods of the class.
\end{verbatim}
\normalsize
 

Definition at line 218 of file britney.py.\index{britney::Britney@{britney::Britney}!auto_hinter@{auto\_\-hinter}}
\index{auto_hinter@{auto\_\-hinter}!britney::Britney@{britney::Britney}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def britney.Britney.auto\_\-hinter ( {\em self})}\label{classbritney_1_1Britney_c9c109f54ddce53b17513405e07dba1a}




\footnotesize\begin{verbatim}Auto hint circular dependencies

This method tries to auto hint circular dependencies analyzing the update
excuses relationships. If they build a circular dependency, which we already
know as not-working with the standard do_all algorithm, try to `easy` them.
\end{verbatim}
\normalsize
 

Definition at line 2536 of file britney.py.\index{britney::Britney@{britney::Britney}!check_conflicts@{check\_\-conflicts}}
\index{check_conflicts@{check\_\-conflicts}!britney::Britney@{britney::Britney}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def britney.Britney.check\_\-conflicts ( {\em self},  {\em pkg},  {\em arch},  {\em broken},  {\em system},  {\em conflicts})}\label{classbritney_1_1Britney_998b3ddbaedbb6cdb732b2307477e96f}




\footnotesize\begin{verbatim}Check if a package can be installed satisfying the conflicts

This method checks if the `pkg` package from the `arch` architecture
can be installed (excluding `broken` packages) within the system
`system` along with all its dependencies. This means that all the
conflicts relationships are checked in order to achieve the test
co-installability of the package.

The method returns a boolean which is True if the given package is
co-installable in the given system.
\end{verbatim}
\normalsize
 

Definition at line 1661 of file britney.py.\index{britney::Britney@{britney::Britney}!check_installable@{check\_\-installable}}
\index{check_installable@{check\_\-installable}!britney::Britney@{britney::Britney}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def britney.Britney.check\_\-installable ( {\em self},  {\em pkg},  {\em arch},  {\em suite},  {\em excluded} = {\tt []},  {\em conflicts} = {\tt False})}\label{classbritney_1_1Britney_4c06ddd116a40752c62d4395e92a97df}




\footnotesize\begin{verbatim}Check if a package is installable

This method analyzes the dependencies of the binary package specified
by the parameter `pkg' for the architecture `arch' within the suite
`suite'. If the dependency can be satisfied in the given `suite` and
`conflicts` parameter is True, then the co-installability with 
conflicts handling is checked.

The dependency fields checked are Pre-Depends and Depends.

The method returns a boolean which is True if the given package is
installable.
\end{verbatim}
\normalsize
 

Definition at line 1620 of file britney.py.\index{britney::Britney@{britney::Britney}!do_all@{do\_\-all}}
\index{do_all@{do\_\-all}!britney::Britney@{britney::Britney}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def britney.Britney.do\_\-all ( {\em self},  {\em maxdepth} = {\tt 0},  {\em init} = {\tt None},  {\em actions} = {\tt None})}\label{classbritney_1_1Britney_3ef9b6f600eac492fc5aa4b31638198f}




\footnotesize\begin{verbatim}Testing update runner

This method tries to update testing checking the uninstallability
counters before and after the actions to decide if the update was
successful or not.
\end{verbatim}
\normalsize
 

Definition at line 2258 of file britney.py.\index{britney::Britney@{britney::Britney}!do_hint@{do\_\-hint}}
\index{do_hint@{do\_\-hint}!britney::Britney@{britney::Britney}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def britney.Britney.do\_\-hint ( {\em self},  {\em type},  {\em who},  {\em pkgvers})}\label{classbritney_1_1Britney_7bf70a5ad5754eb949205db3dc4b9c8a}




\footnotesize\begin{verbatim}Process hints

This method process `easy`, `hint` and `force-hint` hints. If the
requested version is not in unstable, than the hint is skipped.
\end{verbatim}
\normalsize
 

Definition at line 2460 of file britney.py.\index{britney::Britney@{britney::Britney}!doop_source@{doop\_\-source}}
\index{doop_source@{doop\_\-source}!britney::Britney@{britney::Britney}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def britney.Britney.doop\_\-source ( {\em self},  {\em pkg})}\label{classbritney_1_1Britney_22af61b8a7f6fe71a79d28b5016cae1d}




\footnotesize\begin{verbatim}Apply a change to the testing distribution as requested by `pkg`

This method apply the changes required by the action `pkg` tracking
them so it will be possible to revert them.

The method returns a list of the package name, the suite where the
package comes from, the list of packages affected by the change and
the dictionary undo which can be used to rollback the changes.
\end{verbatim}
\normalsize
 

Definition at line 1880 of file britney.py.\index{britney::Britney@{britney::Britney}!eval_nuninst@{eval\_\-nuninst}}
\index{eval_nuninst@{eval\_\-nuninst}!britney::Britney@{britney::Britney}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def britney.Britney.eval\_\-nuninst ( {\em self},  {\em nuninst},  {\em original} = {\tt None})}\label{classbritney_1_1Britney_e5c18b706e6598474435b1996313cf27}




\footnotesize\begin{verbatim}Return a string which represents the uninstallability counters

This method returns a string which represents the uninstallability
counters reading the uninstallability statistics `nuninst` and, if
present, merging the results with the `original` one.

An example of the output string is:
1+2: i-0:a-0:a-0:h-0:i-1:m-0:m-0:p-0:a-0:m-0:s-2:s-0

where the first part is the number of broken packages in non-break
architectures + the total number of broken packages for all the
architectures.
\end{verbatim}
\normalsize
 

Definition at line 1568 of file britney.py.\index{britney::Britney@{britney::Britney}!eval_uninst@{eval\_\-uninst}}
\index{eval_uninst@{eval\_\-uninst}!britney::Britney@{britney::Britney}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def britney.Britney.eval\_\-uninst ( {\em self},  {\em nuninst})}\label{classbritney_1_1Britney_b8dd18ead23b6e1126bb4c2a5c3cd8ba}




\footnotesize\begin{verbatim}Return a string which represents the uninstallable packages

This method returns a string which represents the uninstallable
packages reading the uninstallability statistics `nuninst`.

An example of the output string is:
    * i386: broken-pkg1, broken-pkg2
\end{verbatim}
\normalsize
 

Definition at line 1598 of file britney.py.\index{britney::Britney@{britney::Britney}!excuse_unsat_deps@{excuse\_\-unsat\_\-deps}}
\index{excuse_unsat_deps@{excuse\_\-unsat\_\-deps}!britney::Britney@{britney::Britney}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def britney.Britney.excuse\_\-unsat\_\-deps ( {\em self},  {\em pkg},  {\em src},  {\em arch},  {\em suite},  {\em excuse},  {\em excluded} = {\tt []},  {\em conflicts} = {\tt False})}\label{classbritney_1_1Britney_f51c60a69f3a9dc2bc5afdb2ffaf3990}




\footnotesize\begin{verbatim}Find unsatisfied dependencies for a binary package

This method analyzes the dependencies of the binary package specified
by the parameter `pkg', built from the source package `src', for the
architecture `arch' within the suite `suite'. If the dependency can't
be satisfied in testing and/or unstable, it updates the excuse passed
as parameter.

The dependency fields checked are Pre-Depends and Depends.
\end{verbatim}
\normalsize
 

Definition at line 930 of file britney.py.\index{britney::Britney@{britney::Britney}!get_dependency_solvers@{get\_\-dependency\_\-solvers}}
\index{get_dependency_solvers@{get\_\-dependency\_\-solvers}!britney::Britney@{britney::Britney}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def britney.Britney.get\_\-dependency\_\-solvers ( {\em self},  {\em block},  {\em arch},  {\em distribution},  {\em excluded} = {\tt []},  {\em strict} = {\tt False})}\label{classbritney_1_1Britney_5461f49e3e75a251ebedfd37d2a5ff0c}




\footnotesize\begin{verbatim}Find the packages which satisfy a dependency block

This method returns the list of packages which satisfy a dependency
block (as returned by apt_pkg.ParseDepends) for the given architecture
and distribution.

It returns a tuple with two items: the first is a boolean which is
True if the dependency is satisfied, the second is the list of the
solving packages.
\end{verbatim}
\normalsize
 

Definition at line 889 of file britney.py.\index{britney::Britney@{britney::Britney}!get_full_tree@{get\_\-full\_\-tree}}
\index{get_full_tree@{get\_\-full\_\-tree}!britney::Britney@{britney::Britney}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def britney.Britney.get\_\-full\_\-tree ( {\em self},  {\em pkg},  {\em arch},  {\em suite})}\label{classbritney_1_1Britney_a923f6b90e2574e3bb2bb099b05925dd}




\footnotesize\begin{verbatim}Calculate the full dependency tree for the given package

This method returns the full dependency tree for the package `pkg`,
inside the `arch` architecture for the suite `suite`.
\end{verbatim}
\normalsize
 

Definition at line 2022 of file britney.py.\index{britney::Britney@{britney::Britney}!get_nuninst@{get\_\-nuninst}}
\index{get_nuninst@{get\_\-nuninst}!britney::Britney@{britney::Britney}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def britney.Britney.get\_\-nuninst ( {\em self},  {\em requested\_\-arch} = {\tt None},  {\em build} = {\tt False})}\label{classbritney_1_1Britney_41c5ee0b9d64b2e76a0c1a1c2b28c73e}




\footnotesize\begin{verbatim}Return the uninstallability statistic for all the architectures

To calculate the uninstallability counters, the method checks the
installability of all the packages for all the architectures, and
tracking dependencies in a recursive way. The architecture
indipendent packages are checked only for the `nobreakall`
architectures.

It returns a dictionary with the architectures as keys and the list
of uninstallable packages as values.
\end{verbatim}
\normalsize
 

Definition at line 1508 of file britney.py.\index{britney::Britney@{britney::Britney}!invalidate_excuses@{invalidate\_\-excuses}}
\index{invalidate_excuses@{invalidate\_\-excuses}!britney::Britney@{britney::Britney}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def britney.Britney.invalidate\_\-excuses ( {\em self},  {\em valid},  {\em invalid})}\label{classbritney_1_1Britney_171969785db449d7a06c3f762774e0cd}




\footnotesize\begin{verbatim}Invalidate impossible excuses

This method invalidates the impossible excuses, which depend
on invalid excuses. The two parameters contains the list of
`valid' and `invalid' excuses.
\end{verbatim}
\normalsize
 

Definition at line 1344 of file britney.py.\index{britney::Britney@{britney::Britney}!iter_packages@{iter\_\-packages}}
\index{iter_packages@{iter\_\-packages}!britney::Britney@{britney::Britney}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def britney.Britney.iter\_\-packages ( {\em self},  {\em packages},  {\em selected},  {\em hint} = {\tt False},  {\em nuninst} = {\tt None})}\label{classbritney_1_1Britney_d453398832baaa7f477f720cfb643029}




\footnotesize\begin{verbatim}Iter on the list of actions and apply them one-by-one

This method apply the changes from `packages` to testing, checking the uninstallability
counters for every action performed. If the action do not improve the it, it is reverted.
The method returns the new uninstallability counters and the remaining actions if the
final result is successful, otherwise (None, None).
\end{verbatim}
\normalsize
 

Definition at line 2038 of file britney.py.\index{britney::Britney@{britney::Britney}!main@{main}}
\index{main@{main}!britney::Britney@{britney::Britney}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def britney.Britney.main ( {\em self})}\label{classbritney_1_1Britney_0e9551bdf927388f55be5ce15a48c94f}




\footnotesize\begin{verbatim}Main method

This is the entry point for the class: it includes the list of calls
for the member methods which will produce the output files.
\end{verbatim}
\normalsize
 

Definition at line 2612 of file britney.py.\index{britney::Britney@{britney::Britney}!newlyuninst@{newlyuninst}}
\index{newlyuninst@{newlyuninst}!britney::Britney@{britney::Britney}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def britney.Britney.newlyuninst ( {\em self},  {\em nuold},  {\em nunew})}\label{classbritney_1_1Britney_60ccd1851bcea5659fed15010541e244}




\footnotesize\begin{verbatim}Return a nuninst statstic with only new uninstallable packages

This method subtract the uninstallabla packages of the statistic
`nunew` from the statistic `nuold`.

It returns a dictionary with the architectures as keys and the list
of uninstallable packages as values.
\end{verbatim}
\normalsize
 

Definition at line 1493 of file britney.py.\index{britney::Britney@{britney::Britney}!normalize_bugs@{normalize\_\-bugs}}
\index{normalize_bugs@{normalize\_\-bugs}!britney::Britney@{britney::Britney}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def britney.Britney.normalize\_\-bugs ( {\em self})}\label{classbritney_1_1Britney_5a6af4a100cfd54e872a27fa7f48ac3c}




\footnotesize\begin{verbatim}Normalize the release critical bug summaries for testing and unstable

The method doesn't return any value: it directly modifies the
object attribute `bugs'.
\end{verbatim}
\normalsize
 

Definition at line 549 of file britney.py.\index{britney::Britney@{britney::Britney}!old_libraries@{old\_\-libraries}}
\index{old_libraries@{old\_\-libraries}!britney::Britney@{britney::Britney}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def britney.Britney.old\_\-libraries ( {\em self})}\label{classbritney_1_1Britney_39c07e55b274ff98cb9cecb5f051bc5d}




\footnotesize\begin{verbatim}Detect old libraries left in testing for smooth transitions

This method detect old libraries which are in testing but no longer
built from the source package: they are still there because other
packages still depend on them, but they should be removed as soon
as possible.
\end{verbatim}
\normalsize
 

Definition at line 2576 of file britney.py.\index{britney::Britney@{britney::Britney}!old_libraries_format@{old\_\-libraries\_\-format}}
\index{old_libraries_format@{old\_\-libraries\_\-format}!britney::Britney@{britney::Britney}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def britney.Britney.old\_\-libraries\_\-format ( {\em self},  {\em libs})}\label{classbritney_1_1Britney_7c45f1c5b1dbd442fb9b85fef3fe1823}




\footnotesize\begin{verbatim}Format old libraries in a smart table\end{verbatim}
\normalsize
 

Definition at line 2596 of file britney.py.\index{britney::Britney@{britney::Britney}!output_write@{output\_\-write}}
\index{output_write@{output\_\-write}!britney::Britney@{britney::Britney}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def britney.Britney.output\_\-write ( {\em self},  {\em msg})}\label{classbritney_1_1Britney_b0406f20fbbbb08cd3c6e5e6b35f77d5}




\footnotesize\begin{verbatim}Simple wrapper for output writing\end{verbatim}
\normalsize
 

Definition at line 2608 of file britney.py.\index{britney::Britney@{britney::Britney}!read_approvals@{read\_\-approvals}}
\index{read_approvals@{read\_\-approvals}!britney::Britney@{britney::Britney}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def britney.Britney.read\_\-approvals ( {\em self},  {\em basedir})}\label{classbritney_1_1Britney_39248f0cfea1c8798b2ca5a97d37eaf8}




\footnotesize\begin{verbatim}Read the approval commands from the specified directory

The approval commands are read from the files contained by the 
`Approved' directory within the directory specified as `basedir'
parameter. The name of the files has to be the same of the
authorized users for the approvals.

The file contains rows with the format:

<package-name> <version>

The method returns a dictionary where the key is the binary package
name followed by an underscore and the version number, and the value
is the user who submitted the command.
\end{verbatim}
\normalsize
 

Definition at line 669 of file britney.py.\index{britney::Britney@{britney::Britney}!read_binaries@{read\_\-binaries}}
\index{read_binaries@{read\_\-binaries}!britney::Britney@{britney::Britney}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def britney.Britney.read\_\-binaries ( {\em self},  {\em basedir},  {\em distribution},  {\em arch})}\label{classbritney_1_1Britney_1b2b0f42e4af1cee472f93e955b30421}




\footnotesize\begin{verbatim}Read the list of binary packages from the specified directory

The binary packages are read from the `Packages_${arch}' files
within the directory specified as `basedir' parameter, replacing
${arch} with the value of the arch parameter. Considering the
large amount of memory needed, not all the fields are loaded
in memory. The available fields are Version, Source, Pre-Depends,
Depends, Conflicts, Provides and Architecture.

After reading the packages, reverse dependencies are computed
and saved in the `rdepends' keys, and the `Provides' field is
used to populate the virtual packages list.

The dependencies are parsed with the apt.pkg.ParseDepends method,
and they are stored both as the format of its return value and
text.

The method returns a tuple. The first element is a list where
every item represents a binary package as a dictionary; the second
element is a dictionary which maps virtual packages to real
packages that provide it.
\end{verbatim}
\normalsize
 

Definition at line 367 of file britney.py.\index{britney::Britney@{britney::Britney}!read_bugs@{read\_\-bugs}}
\index{read_bugs@{read\_\-bugs}!britney::Britney@{britney::Britney}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def britney.Britney.read\_\-bugs ( {\em self},  {\em basedir})}\label{classbritney_1_1Britney_6c777aae69e7bec2efebaf23ddd4a86c}




\footnotesize\begin{verbatim}Read the release critial bug summary from the specified directory

The RC bug summaries are read from the `Bugs' file within the
directory specified as `basedir' parameter. The file contains
rows with the format:

<package-name> <count-of-rc-bugs>

The method returns a dictionary where the key is the binary package
name and the value is the number of open RC bugs for it.
\end{verbatim}
\normalsize
 

Definition at line 493 of file britney.py.\index{britney::Britney@{britney::Britney}!read_dates@{read\_\-dates}}
\index{read_dates@{read\_\-dates}!britney::Britney@{britney::Britney}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def britney.Britney.read\_\-dates ( {\em self},  {\em basedir})}\label{classbritney_1_1Britney_085af5ac906813ea40fc2e623748f517}




\footnotesize\begin{verbatim}Read the upload date for the packages from the specified directory

The upload dates are read from the `Date' file within the directory
specified as `basedir' parameter. The file contains rows with the
format:

<package-name> <version> <date-of-upload>

The dates are expressed as days starting from the 1970-01-01.

The method returns a dictionary where the key is the binary package
name and the value is tuple with two items, the version and the date.
\end{verbatim}
\normalsize
 

Definition at line 584 of file britney.py.\index{britney::Britney@{britney::Britney}!read_hints@{read\_\-hints}}
\index{read_hints@{read\_\-hints}!britney::Britney@{britney::Britney}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def britney.Britney.read\_\-hints ( {\em self},  {\em basedir})}\label{classbritney_1_1Britney_46d535f617fcf1faaaf5d841ea23c184}




\footnotesize\begin{verbatim}Read the hint commands from the specified directory

The hint commands are read from the files contained by the `Hints'
directory within the directory specified as `basedir' parameter. 
The name of the files has to be the same of the authorized users
for the hints.

The file contains rows with the format:

<command> <package-name>[/<version>]

The method returns a dictionary where the key is the command, and
the value is the list of affected packages.
\end{verbatim}
\normalsize
 

Definition at line 695 of file britney.py.\index{britney::Britney@{britney::Britney}!read_nuninst@{read\_\-nuninst}}
\index{read_nuninst@{read\_\-nuninst}!britney::Britney@{britney::Britney}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def britney.Britney.read\_\-nuninst ( {\em self})}\label{classbritney_1_1Britney_24fe2c117eadac8eb783e3cb86300265}




\footnotesize\begin{verbatim}Read the non-installable report\end{verbatim}
\normalsize
 

Definition at line 835 of file britney.py.\index{britney::Britney@{britney::Britney}!read_sources@{read\_\-sources}}
\index{read_sources@{read\_\-sources}!britney::Britney@{britney::Britney}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def britney.Britney.read\_\-sources ( {\em self},  {\em basedir})}\label{classbritney_1_1Britney_054f44c47f17c0c4f5a069e821b7f868}




\footnotesize\begin{verbatim}Read the list of source packages from the specified directory

The source packages are read from the `Sources' file within the
directory specified as `basedir' parameter. Considering the
large amount of memory needed, not all the fields are loaded
in memory. The available fields are Version, Maintainer and Section.

The method returns a list where every item represents a source
package as a dictionary.
\end{verbatim}
\normalsize
 

Definition at line 340 of file britney.py.\index{britney::Britney@{britney::Britney}!read_urgencies@{read\_\-urgencies}}
\index{read_urgencies@{read\_\-urgencies}!britney::Britney@{britney::Britney}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def britney.Britney.read\_\-urgencies ( {\em self},  {\em basedir})}\label{classbritney_1_1Britney_09fc27899506b4830b1961f125a7b6a4}




\footnotesize\begin{verbatim}Read the upload urgency of the packages from the specified directory

The upload urgencies are read from the `Urgency' file within the
directory specified as `basedir' parameter. The file contains rows
with the format:

<package-name> <version> <urgency>

The method returns a dictionary where the key is the binary package
name and the value is the greatest urgency from the versions of the
package that are higher then the testing one.
\end{verbatim}
\normalsize
 

Definition at line 624 of file britney.py.\index{britney::Britney@{britney::Britney}!register_reverses@{register\_\-reverses}}
\index{register_reverses@{register\_\-reverses}!britney::Britney@{britney::Britney}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def britney.Britney.register\_\-reverses ( {\em self},  {\em pkg},  {\em packages},  {\em provides},  {\em check\_\-doubles} = {\tt True},  {\em parse\_\-depends} = {\tt apt\_\-pkg.ParseDepends})}\label{classbritney_1_1Britney_f86b93b64ac43c1d04fe88a6a8b1777e}




\footnotesize\begin{verbatim}Register reverse dependencies and conflicts for the specified package

This method register the reverse dependencies and conflicts for
a give package using `packages` as list of packages and `provides`
as list of virtual packages.

The method has an optional parameter parse_depends which is there
just for performance reasons and is not meant to be overwritten.
\end{verbatim}
\normalsize
 

Definition at line 451 of file britney.py.\index{britney::Britney@{britney::Britney}!reversed_exc_deps@{reversed\_\-exc\_\-deps}}
\index{reversed_exc_deps@{reversed\_\-exc\_\-deps}!britney::Britney@{britney::Britney}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def britney.Britney.reversed\_\-exc\_\-deps ( {\em self})}\label{classbritney_1_1Britney_be1b4af9d6c6650c70b24267412bc1a8}




\footnotesize\begin{verbatim}Reverse the excuses dependencies

This method returns a dictionary where the keys are the package names
and the values are the excuse names which depend on it.
\end{verbatim}
\normalsize
 

Definition at line 1331 of file britney.py.\index{britney::Britney@{britney::Britney}!same_source@{same\_\-source}}
\index{same_source@{same\_\-source}!britney::Britney@{britney::Britney}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def britney.Britney.same\_\-source ( {\em self},  {\em sv1},  {\em sv2})}\label{classbritney_1_1Britney_85d2e45e8431779b62f398c34972ddf1}




\footnotesize\begin{verbatim}Check if two version numbers are built from the same source

This method returns a boolean value which is true if the two
version numbers specified as parameters are built from the same
source. The main use of this code is to detect binary-NMU.
\end{verbatim}
\normalsize
 

Definition at line 850 of file britney.py.\index{britney::Britney@{britney::Britney}!should_remove_source@{should\_\-remove\_\-source}}
\index{should_remove_source@{should\_\-remove\_\-source}!britney::Britney@{britney::Britney}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def britney.Britney.should\_\-remove\_\-source ( {\em self},  {\em pkg})}\label{classbritney_1_1Britney_f8a6c9adbdec7a5a982dd2b74febcc08}




\footnotesize\begin{verbatim}Check if a source package should be removed from testing

This method checks if a source package should be removed from the
testing distribution; this happen if the source package is not
present in the unstable distribution anymore.

It returns True if the package can be removed, False otherwise.
In the former case, a new excuse is appended to the the object
attribute excuses.
\end{verbatim}
\normalsize
 

Definition at line 990 of file britney.py.\index{britney::Britney@{britney::Britney}!should_upgrade_src@{should\_\-upgrade\_\-src}}
\index{should_upgrade_src@{should\_\-upgrade\_\-src}!britney::Britney@{britney::Britney}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def britney.Britney.should\_\-upgrade\_\-src ( {\em self},  {\em src},  {\em suite})}\label{classbritney_1_1Britney_94785175a85f44b1afaf3add167a211f}




\footnotesize\begin{verbatim}Check if source package should be upgraded

This method checks if a source package should be upgraded. The analisys
is performed for the source package specified by the `src' parameter, 
checking the architecture `arch' for the distribution `suite'.
       
It returns False if the given package doesn't need to be upgraded,
True otherwise. In the former case, a new excuse is appended to
the the object attribute excuses.
\end{verbatim}
\normalsize
 

Definition at line 1134 of file britney.py.\index{britney::Britney@{britney::Britney}!should_upgrade_srcarch@{should\_\-upgrade\_\-srcarch}}
\index{should_upgrade_srcarch@{should\_\-upgrade\_\-srcarch}!britney::Britney@{britney::Britney}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def britney.Britney.should\_\-upgrade\_\-srcarch ( {\em self},  {\em src},  {\em arch},  {\em suite})}\label{classbritney_1_1Britney_bd18d7acde434387e94344a39db5b0e5}




\footnotesize\begin{verbatim}Check if binary package should be upgraded

This method checks if a binary package should be upgraded; this can
happen also if the binary package is a binary-NMU for the given arch.
The analisys is performed for the source package specified by the
`src' parameter, checking the architecture `arch' for the distribution
`suite'.
       
It returns False if the given package doesn't need to be upgraded,
True otherwise. In the former case, a new excuse is appended to
the the object attribute excuses.
\end{verbatim}
\normalsize
 

Definition at line 1020 of file britney.py.\index{britney::Britney@{britney::Britney}!sort_actions@{sort\_\-actions}}
\index{sort_actions@{sort\_\-actions}!britney::Britney@{britney::Britney}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def britney.Britney.sort\_\-actions ( {\em self})}\label{classbritney_1_1Britney_70115e28e2ee6aa3a09d1efbd81b4a87}




\footnotesize\begin{verbatim}Sort actions in a smart way

This method sorts the list of actions in a smart way. In details, it uses
as base sort the number of days the excuse is old, then reordering packages
so the ones with most reverse dependencies are at the end of the loop.
If an action depends on another one, it is put after it.
\end{verbatim}
\normalsize
 

Definition at line 2504 of file britney.py.\index{britney::Britney@{britney::Britney}!upgrade_testing@{upgrade\_\-testing}}
\index{upgrade_testing@{upgrade\_\-testing}!britney::Britney@{britney::Britney}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def britney.Britney.upgrade\_\-testing ( {\em self})}\label{classbritney_1_1Britney_921effe0d64ed713c38888684a0a26d4}




\footnotesize\begin{verbatim}Upgrade testing using the unstable packages

This method tries to upgrade testing using the packages from unstable.
Before running the do_all method, it tries the easy and force-hint
commands.
\end{verbatim}
\normalsize
 

Definition at line 2365 of file britney.py.\index{britney::Britney@{britney::Britney}!write_bugs@{write\_\-bugs}}
\index{write_bugs@{write\_\-bugs}!britney::Britney@{britney::Britney}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def britney.Britney.write\_\-bugs ( {\em self},  {\em basedir},  {\em bugs})}\label{classbritney_1_1Britney_0a5591fc94b89d53d12cbb8f27d100a7}




\footnotesize\begin{verbatim}Write the release critical bug summary to the specified directory

For a more detailed explanation of the format, please check the method
read_bugs.
\end{verbatim}
\normalsize
 

Definition at line 517 of file britney.py.\index{britney::Britney@{britney::Britney}!write_controlfiles@{write\_\-controlfiles}}
\index{write_controlfiles@{write\_\-controlfiles}!britney::Britney@{britney::Britney}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def britney.Britney.write\_\-controlfiles ( {\em self},  {\em basedir},  {\em suite})}\label{classbritney_1_1Britney_1a3695a37b15ebd7e81cc33683fde461}




\footnotesize\begin{verbatim}Write the control files

This method write the control files for the binary packages of all
the architectures and for the source packages.
\end{verbatim}
\normalsize
 

Definition at line 777 of file britney.py.\index{britney::Britney@{britney::Britney}!write_dates@{write\_\-dates}}
\index{write_dates@{write\_\-dates}!britney::Britney@{britney::Britney}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def britney.Britney.write\_\-dates ( {\em self},  {\em basedir},  {\em dates})}\label{classbritney_1_1Britney_83e0bd993e7a099e6bf89d760183a76b}




\footnotesize\begin{verbatim}Write the upload date for the packages to the specified directory

For a more detailed explanation of the format, please check the method
read_dates.
\end{verbatim}
\normalsize
 

Definition at line 610 of file britney.py.\index{britney::Britney@{britney::Britney}!write_excuses@{write\_\-excuses}}
\index{write_excuses@{write\_\-excuses}!britney::Britney@{britney::Britney}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def britney.Britney.write\_\-excuses ( {\em self})}\label{classbritney_1_1Britney_010f6deffca32f7f71ecf1f5c1bb4985}




\footnotesize\begin{verbatim}Produce and write the update excuses

This method handles the update excuses generation: the packages are
looked to determine whether they are valid candidates. For the details
of this procedure, please refer to the module docstring.
\end{verbatim}
\normalsize
 

Definition at line 1386 of file britney.py.\index{britney::Britney@{britney::Britney}!write_heidi@{write\_\-heidi}}
\index{write_heidi@{write\_\-heidi}!britney::Britney@{britney::Britney}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def britney.Britney.write\_\-heidi ( {\em self},  {\em basedir},  {\em filename})}\label{classbritney_1_1Britney_20f846da79d595d36628c8da3195ac7a}




\footnotesize\begin{verbatim}Write the output HeidiResult

This method write the output for Heidi, which contains all the
binary packages and the source packages in the form:

<pkg-name> <pkg-version> <pkg-architecture> <pkg-section>
<src-name> <src-version> <src-section>
\end{verbatim}
\normalsize
 

Definition at line 742 of file britney.py.\index{britney::Britney@{britney::Britney}!write_nuninst@{write\_\-nuninst}}
\index{write_nuninst@{write\_\-nuninst}!britney::Britney@{britney::Britney}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def britney.Britney.write\_\-nuninst ( {\em self},  {\em nuninst})}\label{classbritney_1_1Britney_1dd8c704e1dab571e4bb62ae15f6ee52}




\footnotesize\begin{verbatim}Write the non-installable report\end{verbatim}
\normalsize
 

Definition at line 827 of file britney.py.

The documentation for this class was generated from the following file:\begin{CompactItemize}
\item 
britney.py\end{CompactItemize}
